@startuml fault_application
scale 1.5
skinparam {
    shadowing false
    linetype ortho
    defaultFontSize 10
    padding 1
}

skinparam activity {
    BackgroundColor #FFEBEE
    BorderColor #F44336
    FontSize 7
}

title Применение неисправностей

start
:Чтение адреса;

if (Адрес в области\nнеисправности?) then (нет)
    :Вернуть оригинальное значение;
    stop
endif

switch (Модель?)
case (BitFlip)
    :Инвертировать биты\nс вероятностью flip_prob;
case (StuckAt0)
    :Вернуть 0x00000000\nс вероятностью flip_prob;
case (StuckAt1)
    :Вернуть 0xFFFFFFFF\nс вероятностью flip_prob;
case (OpenRead)
    :Вернуть 0xFFFFFFFF;
endswitch

:Вернуть модифицированное значение;
stop

note right
  Неисправности применяются
  ТОЛЬКО при чтении
end note

@enduml
