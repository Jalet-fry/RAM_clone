@startuml activity_inject_fault
scale 1.5
skinparam {
    shadowing false
    linetype ortho
    defaultFontSize 10
    padding 1
}

skinparam activity {
    BackgroundColor #FFF3E0
    BorderColor #FF9800
    FontSize 7
}

title Внедрение неисправности

start
:Нажать "Внедрить";
:Получить параметры:\nмодель, адрес, длина, вероятность;

if (Валидация\nпараметров?) then (невалидно)
    :Показать ошибку;
    stop
endif

if (Адрес + длина > размер?) then (да)
    :Уменьшить длину;
endif

:Создать InjectedFault;
:MemoryModel.injectFault();
:FaultInjector сохраняет;
:Отправить faultInjected();
:Обновить UI;
stop

@enduml
