@startuml walking_ones_algorithm
scale 1.5
skinparam {
    shadowing false
    linetype ortho
    defaultFontSize 10
    padding 1
}

skinparam activity {
    BackgroundColor #E8F5E9
    BorderColor #4CAF50
    FontSize 7
}

title Алгоритм Walking 1s

start
:Инициализация;

if (Размер > 0?) then (нет)
    stop
endif

:Фаза 1: Запись;
repeat
    :pattern = 1u << (a % 32);
    :writeDirect(a, pattern);
    :Обновить прогресс (0-50%);
repeat while (a < n-1?)

:Фаза 2: Чтение;
repeat
    :expected = 1u << (a % 32);
    :read(a);
    if (read == expected?) then (да)
        :passed = true;
    else (нет)
        :passed = false;
    endif
    :Сохранить результат;
    :Обновить прогресс (50-100%);
repeat while (a < n-1?)

:Отправить результаты;
stop

@enduml
